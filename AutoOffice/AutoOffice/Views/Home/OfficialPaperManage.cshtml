@using AutoOffice.Models.HomeViewModels;
@model AutoOffice.Models.HomeViewModels.OfficialPaperModel
@{
    ViewData["Title"] = "OfficialPaperManage";
}
<link href="~/css/officialPaper.css" rel="stylesheet" />

<h2>OfficialPaperManage</h2>

<hr />

<h4>收到</h4>

@foreach (var officialPaper in Model.OfficialPapers) {
    if (officialPaper.ToEmail == ViewData["UserName"].ToString()) {
<div id="official-paper">
    <p id="title">@officialPaper.Title</p>
    <p id="content">@officialPaper.Content</p>
    <p id="email">来自：@officialPaper.FromEmail</p>
    <p id="time">@officialPaper.Time</p>
    <p id="approvement">状态：@officialPaper.displayApprovement()</p>

    @if (officialPaper.Approvement == (int)ApprovementState.NotDecideYet) {
        <form asp-action="OfficialPaperApprove" method="post">
            <input name="id" value="@officialPaper.ID" hidden />
            <button type="submit" class="btn btn-success">同意</button>
        </form>
        <form asp-action="OfficialPaperNotApprove" method="post">
            <input name="id" value="@officialPaper.ID" hidden />
            <button type="submit" class="btn btn-danger">不同意</button>
        </form>
    }

</div>
    }
}
<hr/>
<h4>发出</h4>

@foreach (var officialPaper in Model.OfficialPapers) {
    if (officialPaper.FromEmail == ViewData["UserName"].ToString()) {
<div id="official-paper">
    <p id="title">@officialPaper.Title</p>
    <p id="content">@officialPaper.Content</p>
    <p id="email">发到：@officialPaper.ToEmail</p>
    <p id="time">@officialPaper.Time</p>
    <p id="approvement">状态：@officialPaper.displayApprovement()</p>
</div>
    }
}